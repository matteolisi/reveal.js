<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/matteo.css" id="theme">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<!-- Init -->
				<section>
						<section data-background-transition="slide" data-background="images/fondo_diapo_engicam_logo.jpg" id="presentable" class="bookend">
								<h2><strong> 
								Introduction to Engicam BSP <br>
								</strong></h2>								
								<small>
								<p style="color: rgba(0, 0, 0, .9);">								
									Speaker: <br><br>
									<strong>Francesco Utel</strong> <br><br>
								</small>
								</p>
						</section>
				</section>
				

				<!-- sezione presentazione Board -->
				


				<!-- sezione presentazione bsp -->
				<section>
					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam_logo.jpg" id="presentable" class="bookend">
						<h2>Engicam BSP</h2>	
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam_logo.jpg" id="presentable" class="bookend">	
						<h4>Engicam BSP</h4>	
						<ul>
							<li>It is a virtual machine image ready to use.</li>
							<li>All Yocto sources and tools already installed.</li>
							<li>All SOM toolchain already installed.</li>
							<li>QT creator already set with KIT for every machine.</li>	
						</ul>
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam_logo.jpg" id="presentable" class="bookend">	
						<h4>VM Image</h4>	
							<small>
								Engicam BSP is a virtual machine image in VMWare format , so if you use vmplayer only 1 click needed. 
								You can also use with virtual box but it needs an extra configuration. 						
							</small>

							<tr>
								<td><img src="images/vmware-vsphere-logo-company.png"></td>
								<td><img src="images/virtualbox-png-6.png"></td>
							</tr>					
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam_logo.jpg" id="presentable" class="bookend">
						<img src="images/yocto_project_standard.png">
						<small>
							<p>The <strong>Yocto Project</strong> is a Linux Foundation collaborative open source project whose goal is to produce 
								tools and processes that enable the creation of Linux distributions 
								for embedded and IoT software that are independent of the underlying architecture of 
								the embedded hardware.</p>
						</small>
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam_logo.jpg" id="presentable" class="bookend">
						<img src="images/yocto_project_standard.png">
						<small>
							<p><strong>Recipe</strong>: A set of instructions for building packages. 
							A recipe describes where you get source code and which patches to apply. 
							Recipes describe dependencies for libraries or for other recipes, and they also contain 
							configuration and compilation options. Recipes contain the logical unit of execution, 
							the software to build, the images to build, and use the .bb file extension.</p>
						</small>
					</section>


					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">
						<img src="images/yocto_project_standard.png">
						<small>
							<ul>
							<li>Interoperable tools, 
							metadata, and processes that enable the rapid, <b>repeatable development</b> of Linux-based embedded systems in which every aspect of the development process can be customized.
							<li>The project offers different sized targets <b>from "tiny" to fully featured</b> images which are configurable and customisable by the end user.
							</ul>						
						</small>
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">		
							<img src="images/Yocto-Diagram.png">
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">		
						<h4>Bitbake</h4>
						<small>
							<p>It is a <b>Make-like</b> build tool for packages <b>cross compilation</b>.</p>
							<p>Cross-compilation: compiling code for one computer system (often known as the target) on a different system, called the host.</p>
						</small>
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">		
						<h4>Bitbake Recipes</h4>
						<small>
							<p>BitBake recipes specify <b>how a particular package is built.</b></p>
							<p>Recipes consist of the source URL (http, https, ftp, cvs, svn, git, local file system) of the package, dependencies and compile or install options.</p>
							<p>As a first step in a cross-build setup, the framework will attempt to create a <b>cross-compiler toolchain</b> suited for the target platform.</p>
							<p>During the build process, recipes are used to track dependencies, performing native or cross-compilation of the package and package the output to make it suitable for installation on the local or a target device. It is also possible to create complete images consisting 
							of a root file system and kernel.</p>
						</small>
					</section>


					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">		
						<h4>Bitbake Recipes</h4>
						<small><pre><code>
SUMMARY = "Tools for emmc programmig"
DESCRIPTION = "This package provides tools for emmc programmig"
LICENSE = "GPLv2"
LIC_FILES_CHKSUM = "file://${WORKDIR}/copyright;md5=3dd6192d306f582dee7687da3d8748ab"

inherit allarch

SRC_URI = "file://emmc_tools.sh"
			
RDEPENDS_${PN} += "bash dosfstools e2fsprogs pv"

do_install () {
	install -d ${D}${bindir}
	install -m 0755 ${WORKDIR}/emmc_tools.sh ${D}${bindir}/emmc_tools.sh
	ln -sf emmc_tools.sh ${D}${bindir}/emmc_fs.sh
	ln -sf emmc_tools.sh ${D}${bindir}/emmc_fs_ker_dtb.sh
	ln -sf emmc_tools.sh ${D}${bindir}/emmc_fs_ker.sh
	ln -sf emmc_tools.sh ${D}${bindir}/emmc_ker.sh
	ln -sf emmc_tools.sh ${D}${bindir}/emmc_ker_dtb.sh
	ln -sf emmc_tools.sh ${D}${bindir}/emmc_dtb.sh
	ln -sf emmc_tools.sh ${D}${bindir}/emmc_boot.sh
	ln -sf emmc_tools.sh ${D}${bindir}/emmc_sdcard.sh
}							
						</pre></code></small>
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">		
						<img src="images/bitbake-steps.jpg">
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam_logo.jpg" id="presentable" class="bookend">
						<img src="images/yocto_project_standard.png">
						<small>
							<ul>
								<li><strong>Configuration File</strong> contains user-defined variables that affect every build.</li>
								<li><strong>Machine configuration</strong> files which are located throughout the Source Directory, 
								define variables for specific hardware and are only used when building for that target.</li>
						</small>
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam_logo.jpg" id="presentable" class="bookend">          
						<img src="images/layers.jpg">
					</section>
					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">          
                                               <h4>Engicam meta-layer</h4>
                                               <small><pre><code>
├── conf
│   ├── layer.conf
│   └── machine
│       ├── icoremx6dl.conf
│       ├── icore-mx6.inc
│       ├── icore-mx8.inc
│       ├── icoremx8m.conf
│       ├── icoremx8mm.conf
│       ├── icoremx8xd.conf
│       ├── icoremx8xq.conf
│       ├── smarcoremx8xq.conf
│       └── ultragea-mx8qm.conf
├── doc
│   ├── kernel.md
│   ├── programming.md
│   ├── README.md
│   ├── tests
│   │   └── iCoreMx8mini
│   │       └── CTouch2.md
│   └── uboot.md
├── recipes-bsp
│   ├── imx-atf
│   │   ├── imx-atf
│   │   │   └── 0001-mx8m-mini-remove-uart4-from-m4.patch
│   │   └── imx-atf_2.0.bbappend
│   ├── imx-mkimage
│   │   ├── imx-boot
│   │   │   ├── 0001-fix-dtb-for-icoremx8mm.patch
│   │   │   └── 0001-fix-dtb-for-icoremx8m.patch
│   │   └── imx-boot_0.2.bbappend
│   ├── imx-sc-firmware
│   │   ├── imx-sc-firmware
│   │   │   ├── mx8qx-icore-scfw-tcm.bin
│   │   │   └── mx8qx-smarcore-scfw-tcm.bin
│   │   └── imx-sc-firmware_1.2.bbappend
│   └── u-boot
│       ├── files
│       │   ├── 0001-added-support-for-2GB-RAM-SAMSUNG-and-MICRON.patch
│       │   └── 0001-removed-CONFIG_LDO_BYPASS_CHECK.patch
│       └── u-boot-engicam.bb
├── recipes-connectivity
│   ├── brcm-patchram-plus
│   │   ├── brcm-patchram-plus
│   │   │   └── brcm_patchram_plus.c
│   │   └── brcm-patchram-plus.bb
│   └── lwb-bcm4343w-fwScreencast 2020-06-17 11:48:45
│       ├── lwb-bcm4343w-fw
│       │   └── brcm4343w
│       │       ├── 4343w-07_25_2016.hcd
│       │       ├── BCM4343A1_001.002.009.0038.0000_Generic_UART_37_4MHz_wlbga_ref_OTP.hcd
│       │       ├── bcmdhd_4343w_etsi-11_15_2016.cal
│       │       ├── fw_bcmdhd_4343w-11_15_2016.bin
│       │       └── fw_bcmdhd_mfgtest_4343w-11_15_2016.bin
│       └── lwb-bcm4343w-fw.bb
├── recipes-core
│   ├── busybox
│   │   ├── busybox
│   │   │   └── fragment.cfg
│   │   └── busybox_%.bbappend
│   ├── cantest
│   │   ├── cantest
│   │   │   ├── can.h
│   ├── cantest
│   │   ├── cantest
│   │   │   ├── can.h
│   │   │   ├── cansend.c
│   │   │   ├── copyright
│   │   │   ├── lib.c
│   │   │   ├── lib.h
│   │   │   ├── Makefile
│   │   │   └── raw.h
│   │   └── cantest.bb
│   ├── serialtools
│   │   ├── serialtools
│   │   │   ├── copyright
│   │   │   ├── Makefile
│   │   │   ├── serial_lib.c
│   │   │   ├── serial_lib.h
│   │   │   ├── test_gps.c
│   │   │   ├── test_serial2.c
│   │   │   └── test_serial.c
│   │   └── serialtools.bb
│   ├── test-sound
│   │   ├── test-sound
│   │   │   ├── megamix_lr.wav
│   │   │   ├── playleftright.sh
│   │   │   ├── playring.sh
│   │   │   └── ring.wav
│   │   └── test-sound.bb
│   └── webgldemo
│       ├── webgldemo
│       │   └── webgldemo.service
│       └── webgldemo.bb
├── recipes-images
│   └── images
│       ├── engicam-demo-qt.bb
│       ├── engicam-ml-image.bb
│       ├── engicam-streamer.bb
│       └── engicam-test-hw.bb
└── recipes-kernel
       └── linux
               ├── linux-engicam
               │   └── mx8mm
               │       ├── 0001-fix-reboot.patch
               │       └── 0002-fix-sdhc1-pads.patch
               └── linux-engicam_4.14.98.bb

37 directories, 66 files
                                                                               
                                       </pre></code></small>
                                       </section>
						

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam_logo.jpg" id="presentable" class="bookend">		
						<h4>Engicam Repos</h4>
						All Engicam  BSP sources are open and available on github.<br><br>
						https://github.com/engicam-stable
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam_logo.jpg" id="presentable" class="bookend">		
						But if you are in trouble remeber:<br><br><br>
						<strong>support@engicam.com</strong>
					</section>

					<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">	
						<img src="images/qtlogo.png"><br>
						<small>		
							</p>Qt is a <b>framework</b> for creating graphical user interfaces and applications.</p>
							</p><b>Cross-platform</b> framework:</p>
							<ul>
								<li>Apps runs on different software and hardware platforms (Linux, Windows, macOS, Android or embedded systems)</li>
								<li>No change in the underlying codebase while still being a native application with native capabilities and speed.</li>
							</ul>
						</small>
					</section>

				</section>
				
			<!-- sezione gstreamer -->

			<section>

				<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
					<img src="images/multimedia.png"><br>	
					<h4>
						Network Streaming Demo
					</h3>
				</section>

				<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">
					<img src="images/Gstreamer.png"><br>	
					<small>	
						</p>GStreamer is a pipeline-based <b>multimedia framework</b> that links together a wide variety of media processing systems to complete complex workflows.</p>
						Support for wide variety of media-handling components, including simple audio playback, audio and video playback, recording, streaming and editing. 
					</small>
				</section>
				
				<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">
					<img src="images/GStreamer_example_pipeline.png"><br>	
				</section>

				<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">
					<small><pre><code>
#! /bin/sh
​
route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0
​
gst-launch-1.0 v4l2src device=/dev/video7 ! \
video/x-raw, framerate=30/1 ! videoconvert ! v4l2h264enc output-io-mode=4 ! \                      
rtph264pay ! udpsink host=$MULTICAST_IP3 port=$MULTICAST_PORT3

				</code></pre></small>
				</section>

				<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">
					<h4>SmarCore MX8X</h4>
						<img src="images/smarcmx8x_full.png">
				</section>

				<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">
						<img src="images/SMARCSTARTERKIT.png">
				</section>

				<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">
					<h4>Connections on Multimedia 4K Board</h4>
					<p style="color: rgba(0, 0, 0, .9) ; text-align: left;">For this demos we have used: </p>
					<ul>
						<li>MIPI Camera as primary video input - Usb camera as secondary video input.</li>
						<li>SDCARD for local video storage.</li>
						<li>Network interface for streaming.</li>
					</ul>
				</section>

				<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">
					<h2>Multicast</h2>					
					In computer networking, multicast is group communication where data transmission is addressed to a group of destination computers simultaneously. 
				</section>

				<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">
					<h4>Sender</h4>
					<small><pre><code>
#! /bin/sh
​
route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0
​​
export MULTICAST_IP1="239.0.0.102"
export MULTICAST_IP2="239.0.0.103"
export MULTICAST_IP3="239.0.0.104"
export MULTICAST_PORT1="10102"
export MULTICAST_PORT2="10103"
export MULTICAST_PORT3="10104"

gst-launch-1.0 v4l2src device=/dev/video7 ! \
video/x-raw, framerate=30/1 ! videoconvert ! v4l2h264enc output-io-mode=4 ! \                      
rtph264pay ! udpsink host=$MULTICAST_IP3 port=$MULTICAST_PORT3 

gst-launch-1.0 v4l2src device=/dev/video7 ! video/x-raw, framerate=30/1 ! \
videoconvert ! v4l2h264enc output-io-mode=4 ! rtph264pay ! \
udpsink host=$MULTICAST_IP3 port=$MULTICAST_PORT3 &

gst-launch-1.0 filesrc location=/home/root/Lo_Hobbit_3.mp4 ! qtdemux ! queue ! \
h264parse config-interval=1 ! video/x-h264, stream-format=byte-stream, alignment=au !\
 rtph264pay ! udpsink host=$MULTICAST_IP2 port=$MULTICAST_PORT2;

				</code></pre></small>
				</section>

				<section data-background-transition="slide" data-background="images/fondo_diapo_engicam.jpg" id="presentable" class="bookend">
					<h4>Receiver</h4>
					<small><pre><code>
#! /bin/sh
​
route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0
​​
gst-launch-1.0 udpsrc multicast-group=239.0.0.102 port=10102 ! \
application/x-rtp,encoding-name=H264,payload=97 ! \
rtph264depay ! h264parse ! imxvpudec ! imxg2dvideosink sync=false                          

					</code></pre></small>
					</section>
				</section>
			<!-- sezione AI ultragea -->

				<section>
					<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
						<h3>
							<img data-src="images/face_recognition.png" width="50%" height="50%"  style="border:3px solid #333">
							<br>
							AVEM-Face detection demo
						</h3>
					</section>

					<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
						<h4>
							AVEM
						</h4>
     					<p>
							Advanced vision embedded module, is developed through design and production of an embedded module based on newest ARM processor,
							suited for Machine Vision applications in automotive/transportation, biomedical, security and robotics areas
						</p>
					</section>
					<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
						<h4>
							Technological choice
						</h4>
						<img data-src="images/ultragea_mx8qm.png" width="40%" height="40%">
						<p>
							NXP i.MX8 QuadMax is the CPU chosen, the best for this type of application over performance, power consumption and software support.
							What about the form factor, to optimize peripherals usage, a new pinout called UltraGEA has been developed, based on MXM connector
						</p>
					</section>

					<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
						<h4>
							Environment
						</h4>
						<img data-src="images/eiq-environment.jpg" width="40%" height="40%">
						<p>
							eIQ software includes engines, neural network compilers and optimized libraries.
						</p>
					</section>
					<section data-background-image="images/fondo_diapo_engicam.jpg" data-background-size="cover">
						<h4>
							Frameworks
						</h4>
						<img data-src="images/eiq-frameworks.jpg" width="40%" height="40%"  style="border:3px solid #333">
						<p>
							<ul>
								<li>OpenCV, used to make face detection through pre-trained classifier Haar Cascade</li>
								<li>TensorFlowLite, used to make face recognition through pre-trained model MobileFaceNets</li>
								<li>ARMNN through Android NN API, used to enable gpu acceleration</li>
							</ul>
						</p>
					</section>
					<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
						<h4>
							TensorFlowLite
						</h4>
						<img data-src="images/tensorflowlite2.png" width="50%" height="50%"  style="border:3px solid #333">
						<p>
							A light-weight version of and a next step from TensorFlow. TensorFlow Lite is an open-source software library focused on running machine
							learning models on mobile and embedded devices
						</p>
					</section>
					<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
						<h4>
							OpenCV
						</h4>
						<img data-src="images/opencv.png" width="20%" height="20%"  style="border:3px solid #333">
						<p>
							A library comprised of programming functions that can perform image processing, video encoding/decoding, video analysis and	object detection
						</p>
					</section>
					<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
						<h4>
							MobileFaceNet
						</h4>
						<img data-src="images/mobilefacenet.png" width="40%" height="40%"  style="border:3px solid #333">
						<p>
							Efficient Convolutional Neural Network models for accurate real-time face verification on mobile and embedded devices
						</p>
					</section>
					<section data-background-image="images/fondo_diapo_engicam.jpg" data-background-size="cover">
						<h4>
							Haar Cascade
						</h4>
						<img data-src="images/cascade-haar.jpeg" width="20%" height="20%"  style="border:3px solid #333">
						<p>
							Object Detection using Haar feature-based cascade classifiers is an effective object detection method proposed by Paul Viola and Michael Jones in 2001.
							It is a machine learning based approach where a cascade function is trained from a lot of positive and negative images.
							It is then used to detect objects in other images
						</p>
					</section>
				</section>

			<!-- sezione webkit -->
			<section>
				<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
					<img data-src="images/html5.png">
				</section>

				<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
					<img data-src="images/webKit_logo.png">
					<small>
						WPE is the reference WebKit port for embedded and low-consumption computer devices. 
						It has been designed from the ground-up with performance, small footprint, accelerated content rendering, 
						and simplicity of deployment in mind, bringing the excellence of the WebKit engine to countless 
						platforms and target devices.<br>

						WebKit is the web browser engine used by Safari, Mail, App Store, and many other apps on macOS, iOS, and Linux.
					</small>
				</section>

				<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
						<b>meta-wpe</b> is a meta layer for OpenEmbedded / Yocto build environments.
						It provides the necessary recipes to build the WebPlatformforEmbedded 
						components including the WPE WebKit browser.
				</section>

				<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
					<h4>
						local.conf settings
					</h4>
					<small><pre><code>
IMAGE_INSTALL_append = " wpewebkit cog"                  
PREFERRED_PROVIDER_virtual/wpebackend = "wpebackend-fdo"              
					</code></pre></small><br><br>
					<small>					
						<b>wpebackend-fdo</b>WPE WebKit engine that uses Wayland for graphics output<br>
						<b>Cog</b> is small single “window” launcher for the WebKit WPE port<br>
					</small>
				</section>
		
				<section data-background-image="images/fondo_diapo_engicam_logo.jpg" data-background-size="cover">
					<h4>
						bblayers.conf settings
					</h4>
					<small><pre><code>
BBLAYERS += "${BSPDIR}/sources/meta-wpe"               
					</code></pre></small><br><br>
				</section>				

			</section>				

			<!-- Android -->

			</section>
			</div>
		</div>

		<aside id="presentable-icon" class="revealjs">
			<a title="Table of Contents" href="#/0/1">
				<i class="fa fa-list-ul fa-2x" style='color:  rgba(0,129,195,.6)'></i>
			</a>		
   		</aside>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>	
</html>
